!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["rosetta-tohtml"]=e():t["rosetta-tohtml"]=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t,e){for(var r=0;r<t.attributes.length;r++)a.indexOf(t.attributes[r].name.toLowerCase())>=0||e.setAttribute(t.attributes[r].name,t.attributes[r].value);t.parentNode.insertBefore(e,t)}function o(t,e){var r=document.createElement("div");if(r.innerHTML=e(t),void 0===typeof window)throw new Error("It doesn't make sense to use rosetta or rosetta-html outside of a browser");return s in window||(window[s]=[]),window[s].push(function(t){n(t,r)}),'window["'+s+'"]['+(window[s].length-1)+"](document.currentScript);"}var i=r(1),a=["async","integrity","src","type","text","languate","defer","crossorigin"],s="ROSETTA-HTML-REPLACEMENT-FUNCTIONS",c=function(t,e){i.appendCompiler(t,function(t){return o(t,e)})};t.exports={rosetta:i,appendCompiler:c,translateAll:function(){i.translateAll()}}},function(t,e){"use strict";var r=new function(){function t(t,e){var r=t.getAttribute("type").toLowerCase(),n=document.createComment(' The previous code has been automatically translated from "'+r+'" to "text/ecmascript". ');if(!a.hasOwnProperty(r))return void alert('rosetta.translateScript() – Unknown mime-type "'+r+'": script ignored.');var o=document.createElement("script");t.parentNode.insertBefore(n,t),t.parentNode.removeChild(t);for(var i=t.attributes,s=0;s<i.length;s++)o.setAttribute(i[s].name,i[s].value);o.type="text/ecmascript",e&&(o.src="data:text/javascript,"+encodeURIComponent(a[r](e.responseText))),o.text=e?"":a[r](t.text),n.parentNode.insertBefore(o,n)}function e(t){throw new URIError("The script "+t.target.src+" is not accessible.")}function r(){t(this.refScript,this)}function n(t){var n=new XMLHttpRequest;n.onload=r,n.onerror=e,n.refScript=t,n.open("GET",t.src,!0),n.send(null)}function o(e){e.hasAttribute("type")&&!s.test(e.getAttribute("type").toLowerCase())&&(e.hasAttribute("src")?n(e):t(e))}function i(){for(var t=document.getElementsByTagName("script"),e=0;e<t.length;o(t[e++]));}var a={},s=/^\s*(?:text\/javascript|text\/ecmascript)\s*$/;this.translateScript=o,this.translateAll=i,this.appendCompiler=function(t,e){if(arguments.length<2)throw new TypeError("rosetta.appendCompiler() – not enough arguments");if("function"!=typeof e)throw new TypeError("rosetta.appendCompiler() – second argument must be a function");if(!Array.isArray(t))return a[t.toString()]=e,!0;for(var r=0;r<t.length;r++)a[t[r].toString()]=e;return!0}};t.exports=r}])});